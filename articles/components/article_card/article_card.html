{% load markdown_extras %}
{% component "card" class="max-w-4xl"%}
	{% if article.video %}
		{% fill "figure" %}
			<video width="854" height="480" controls>
				<source src="{{article.video.file.url}}" type="video/mp4">
				 Your browser does not support the video tag.
			</video>
		{% endfill %}
	{% endif %}
	{% fill "title" %}
		{{ article.title }}
	{% endfill %}
	{% fill "subtitle" %}
		{% for link in article.based_on.get_links %}
			Source: {% component "link" href=link title=article.based_on.name %}{% endcomponent %}
		{% endfor %}
	{% endfill %}
	{% fill "default" %}
		<p>{{ article.lead_paragraph|convert_markdown }}</p>
	{% endfill %}
	{% fill "actions" %}
		<div class="join">
			{% for tag in article.tags.all %}
				<div class='badge join-item badge-neutral badge-outline tooltip'
					 data-tip="{{ tag.description|truncatechars:256 }}">{{ tag.name }}</div>
			{% endfor %}
		</div>
		{% if user.is_authenticated %}
			<span id="pin-button-{{ article.id }}">{% include '_pin_button.html' with article=article is_pinned=is_pinned %}</span>
		{% endif %}
	{% endfill %}
{% endcomponent %}
